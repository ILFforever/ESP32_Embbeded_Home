{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Desktop/embeded/Frontend_ESP32_Embbeded_Home/src/services/auth.service.ts"],"sourcesContent":["import axios from 'axios';\r\n\r\n// Base API configuration - Use NEXT_PUBLIC_ prefix for client-side env vars\r\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:5000';\r\nconst API_VERSION = '/api/v1';\r\n\r\nconst apiPath = (path: string) => `${API_BASE_URL}${API_VERSION}${path}`;\r\n\r\n// Create axios instance with default config\r\nconst apiClient = axios.create({\r\n  baseURL: `${API_BASE_URL}${API_VERSION}`,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n  withCredentials: true, // Important: This enables cookies to be sent\r\n});\r\n\r\n// Interfaces matching your backend responses\r\nexport interface AuthResponse {\r\n  success: boolean;\r\n  token?: string;\r\n  message?: string;\r\n}\r\n\r\nexport interface UserData {\r\n  id: string;\r\n  name: string;\r\n  telephone_number: string;\r\n  email: string;\r\n  role: 'user' | 'admin';\r\n  createdAt: Date;\r\n}\r\n\r\nexport interface CurrentUserResponse {\r\n  success: boolean;\r\n  data: UserData;\r\n}\r\n\r\nexport interface RegisterForm {\r\n  name: string;\r\n  telephone_number: string;\r\n  email: string;\r\n  password: string;\r\n  role?: 'user' | 'admin';\r\n}\r\n\r\n// Login user\r\nexport const loginUser = async (\r\n  email: string,\r\n  password: string\r\n): Promise<AuthResponse> => {\r\n  try {\r\n    console.log('Attempting login to:', apiPath('/auth/login'));\r\n    \r\n    const response = await apiClient.post('/auth/login', { \r\n      email, \r\n      password \r\n    });\r\n    \r\n    console.log('Login response:', response.data);\r\n    \r\n    if (response.data.success && response.data.token) {\r\n      // Store token in localStorage AND as a cookie for the backend\r\n      localStorage.setItem('token', response.data.token);\r\n      \r\n      // Set the token as a cookie (backend expects it)\r\n      document.cookie = `token=${response.data.token}; path=/; max-age=86400; SameSite=Lax`;\r\n      \r\n      return response.data;\r\n    }\r\n    \r\n    return { \r\n      success: false, \r\n      message: response.data.message || 'Login failed' \r\n    };\r\n  } catch (error: any) {\r\n    console.error('Login error details:', {\r\n      message: error.message,\r\n      response: error.response?.data,\r\n      status: error.response?.status,\r\n      config: error.config\r\n    });\r\n    \r\n    if (error.code === 'ERR_NETWORK') {\r\n      return {\r\n        success: false,\r\n        message: 'Cannot connect to server. Please ensure the backend is running on ' + API_BASE_URL,\r\n      };\r\n    }\r\n    \r\n    return {\r\n      success: false,\r\n      message: error.response?.data?.msg || error.response?.data?.message || 'Login failed',\r\n    };\r\n  }\r\n};\r\n\r\n// Get current user - Changed to GET request to match backend\r\nexport const getCurrentUser = async (\r\n  token?: string\r\n): Promise<CurrentUserResponse | null> => {\r\n  try {\r\n    const authToken = token || localStorage.getItem('token');\r\n    \r\n    if (!authToken) {\r\n      return null;\r\n    }\r\n\r\n    // Ensure token is set as cookie\r\n    document.cookie = `token=${authToken}; path=/; max-age=86400; SameSite=Lax`;\r\n\r\n    // Changed from POST to GET to match your Postman request\r\n    const response = await apiClient.get('/auth/curuser', {\r\n      headers: {\r\n        'Cookie': `token=${authToken}`, // Add token in Cookie header\r\n      },\r\n    });\r\n\r\n    if (response.status === 200 && response.data.success) {\r\n      return response.data;\r\n    }\r\n    \r\n    return null;\r\n  } catch (error) {\r\n    console.error('Get current user error:', error);\r\n    return null;\r\n  }\r\n};\r\n\r\n// Register user\r\nexport const registerUser = async (\r\n  data: RegisterForm\r\n): Promise<AuthResponse> => {\r\n  try {\r\n    const response = await apiClient.post('/auth/register', {\r\n      name: data.name,\r\n      telephone_number: data.telephone_number,\r\n      email: data.email,\r\n      password: data.password,\r\n      role: data.role || 'user',\r\n    });\r\n\r\n    if (response.data.success && response.data.token) {\r\n      // Store token in localStorage and cookie\r\n      localStorage.setItem('token', response.data.token);\r\n      document.cookie = `token=${response.data.token}; path=/; max-age=86400; SameSite=Lax`;\r\n    }\r\n\r\n    return response.data;\r\n  } catch (error: any) {\r\n    console.error('Registration error:', error);\r\n    return {\r\n      success: false,\r\n      message: error.response?.data?.message || 'Registration failed',\r\n    };\r\n  }\r\n};\r\n\r\n// Logout user\r\nexport const logoutUser = async (token?: string): Promise<AuthResponse> => {\r\n  try {\r\n    const authToken = token || localStorage.getItem('token');\r\n    \r\n    if (!authToken) {\r\n      return { success: false, message: 'No token found' };\r\n    }\r\n\r\n    const response = await apiClient.get('/auth/logout', {\r\n      headers: {\r\n        'Cookie': `token=${authToken}`,\r\n      },\r\n    });\r\n\r\n    // Clear token from localStorage and cookies\r\n    localStorage.removeItem('token');\r\n    document.cookie = 'token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT';\r\n\r\n    return response.data;\r\n  } catch (error: any) {\r\n    console.error('Logout error:', error);\r\n    // Still clear token even if request fails\r\n    localStorage.removeItem('token');\r\n    document.cookie = 'token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT';\r\n    return {\r\n      success: false,\r\n      message: error.response?.data?.message || 'Logout failed',\r\n    };\r\n  }\r\n};\r\n\r\n// Admin only: Get all users\r\nexport const getUsers = async (token?: string): Promise<UserData[]> => {\r\n  try {\r\n    const authToken = token || localStorage.getItem('token');\r\n    \r\n    if (!authToken) {\r\n      throw new Error('No authentication token');\r\n    }\r\n\r\n    // Ensure cookie is set\r\n    document.cookie = `token=${authToken}; path=/; max-age=86400; SameSite=Lax`;\r\n\r\n    const response = await apiClient.get('/auth/users', {\r\n      headers: {\r\n        'Cookie': `token=${authToken}`,\r\n      },\r\n    });\r\n\r\n    if (response.data.success) {\r\n      return response.data.data;\r\n    }\r\n    \r\n    return [];\r\n  } catch (error) {\r\n    console.error('Get users error:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Admin only: Get all admins\r\nexport const getAdmins = async (token?: string): Promise<UserData[]> => {\r\n  try {\r\n    const authToken = token || localStorage.getItem('token');\r\n    \r\n    if (!authToken) {\r\n      throw new Error('No authentication token');\r\n    }\r\n\r\n    // Ensure cookie is set\r\n    document.cookie = `token=${authToken}; path=/; max-age=86400; SameSite=Lax`;\r\n\r\n    const response = await apiClient.get('/auth/admins', {\r\n      headers: {\r\n        'Cookie': `token=${authToken}`,\r\n      },\r\n    });\r\n\r\n    if (response.data.success) {\r\n      return response.data.data;\r\n    }\r\n    \r\n    return [];\r\n  } catch (error) {\r\n    console.error('Get admins error:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Admin only: Delete user\r\nexport const deleteUser = async (\r\n  userId: string,\r\n  token?: string\r\n): Promise<AuthResponse> => {\r\n  try {\r\n    const authToken = token || localStorage.getItem('token');\r\n    \r\n    if (!authToken) {\r\n      throw new Error('No authentication token');\r\n    }\r\n\r\n    // Ensure cookie is set\r\n    document.cookie = `token=${authToken}; path=/; max-age=86400; SameSite=Lax`;\r\n\r\n    const response = await apiClient.delete(`/auth/users/${userId}`, {\r\n      headers: {\r\n        'Cookie': `token=${authToken}`,\r\n      },\r\n    });\r\n\r\n    return response.data;\r\n  } catch (error: any) {\r\n    console.error('Delete user error:', error);\r\n    return {\r\n      success: false,\r\n      message: error.response?.data?.message || 'Delete user failed',\r\n    };\r\n  }\r\n};\r\n\r\n// Admin only: Delete admin\r\nexport const deleteAdmin = async (\r\n  adminId: string,\r\n  token?: string\r\n): Promise<AuthResponse> => {\r\n  try {\r\n    const authToken = token || localStorage.getItem('token');\r\n    \r\n    if (!authToken) {\r\n      throw new Error('No authentication token');\r\n    }\r\n\r\n    // Ensure cookie is set\r\n    document.cookie = `token=${authToken}; path=/; max-age=86400; SameSite=Lax`;\r\n\r\n    const response = await apiClient.delete(`/auth/admins/${adminId}`, {\r\n      headers: {\r\n        'Cookie': `token=${authToken}`,\r\n      },\r\n    });\r\n\r\n    return response.data;\r\n  } catch (error: any) {\r\n    console.error('Delete admin error:', error);\r\n    return {\r\n      success: false,\r\n      message: error.response?.data?.message || 'Delete admin failed',\r\n    };\r\n  }\r\n};\r\n\r\n// Helper function to check if user is authenticated\r\nexport const isAuthenticated = (): boolean => {\r\n  return !!localStorage.getItem('token');\r\n};\r\n\r\n// Helper function to get stored token\r\nexport const getStoredToken = (): string | null => {\r\n  return localStorage.getItem('token');\r\n};"],"names":[],"mappings":"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"}},
    {"offset": {"line": 329, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Desktop/embeded/Frontend_ESP32_Embbeded_Home/src/context/AuthContext.tsx"],"sourcesContent":["'use client';\r\nimport React, {createContext, useContext, useState, useEffect } from 'react';\r\nimport {\r\n  loginUser as loginUserService,\r\n  logoutUser as logoutUserService,\r\n  getCurrentUser,\r\n  UserData,\r\n} from '../services/auth.service';\r\n\r\n\r\ninterface AuthContextType {\r\n  user: UserData | null;\r\n  isAuthenticated: boolean;\r\n  isLoading: boolean;\r\n  login: (email: string, password: string) => Promise<boolean>;\r\n  logout: () => Promise<void>;\r\n  refreshUser: () => Promise<void>;\r\n}\r\n\r\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\r\n\r\nexport const useAuth = () => {\r\n  const context = useContext(AuthContext);\r\n  if (!context) {\r\n    throw new Error('useAuth must be used within an AuthProvider');\r\n  }\r\n  return context;\r\n};\r\n\r\ninterface AuthProviderProps {\r\n  children: React.ReactNode;\r\n}\r\n\r\nexport const AuthProvider: React.FC<AuthProviderProps> = ({ children }) => {\r\n  const [user, setUser] = useState<UserData | null>(null);\r\n  const [isLoading, setIsLoading] = useState<boolean>(true);\r\n\r\n  // Check if user is authenticated on mount\r\n  useEffect(() => {\r\n    checkAuth();\r\n  }, []);\r\n\r\n  const checkAuth = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      if (token) {\r\n        const response = await getCurrentUser(token);\r\n        if (response && response.success) {\r\n          setUser(response.data);\r\n        } else {\r\n          // Token invalid, clear it\r\n          localStorage.removeItem('token');\r\n          setUser(null);\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Auth check error:', error);\r\n      localStorage.removeItem('token');\r\n      setUser(null);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const login = async (email: string, password: string): Promise<boolean> => {\r\n    try {\r\n      const response = await loginUserService(email, password);\r\n      \r\n      if (response.success && response.token) {\r\n        // Fetch user data after successful login\r\n        const userResponse = await getCurrentUser(response.token);\r\n        if (userResponse && userResponse.success) {\r\n          setUser(userResponse.data);\r\n          return true;\r\n        }\r\n      }\r\n      \r\n      return false;\r\n    } catch (error) {\r\n      console.error('Login error:', error);\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const logout = async () => {\r\n    try {\r\n      await logoutUserService();\r\n    } catch (error) {\r\n      console.error('Logout error:', error);\r\n    } finally {\r\n      setUser(null);\r\n      localStorage.removeItem('token');\r\n    }\r\n  };\r\n\r\n  const refreshUser = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      if (token) {\r\n        const response = await getCurrentUser(token);\r\n        if (response && response.success) {\r\n          setUser(response.data);\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Refresh user error:', error);\r\n    }\r\n  };\r\n\r\n  const value: AuthContextType = {\r\n    user,\r\n    isAuthenticated: !!user,\r\n    isLoading,\r\n    login,\r\n    logout,\r\n    refreshUser,\r\n  };\r\n\r\n  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;\r\n};"],"names":[],"mappings":";;;;;;;AACA;AACA;AAFA;;;;AAmBA,MAAM,4BAAc,IAAA,sNAAa,EAA8B;AAExD,MAAM,UAAU;IACrB,MAAM,UAAU,IAAA,mNAAU,EAAC;IAC3B,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;AAMO,MAAM,eAA4C,CAAC,EAAE,QAAQ,EAAE;IACpE,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAkB;IAClD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAU;IAEpD,0CAA0C;IAC1C,IAAA,kNAAS,EAAC;QACR;IACF,GAAG,EAAE;IAEL,MAAM,YAAY;QAChB,IAAI;YACF,MAAM,QAAQ,aAAa,OAAO,CAAC;YACnC,IAAI,OAAO;gBACT,MAAM,WAAW,MAAM,IAAA,oJAAc,EAAC;gBACtC,IAAI,YAAY,SAAS,OAAO,EAAE;oBAChC,QAAQ,SAAS,IAAI;gBACvB,OAAO;oBACL,0BAA0B;oBAC1B,aAAa,UAAU,CAAC;oBACxB,QAAQ;gBACV;YACF;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,qBAAqB;YACnC,aAAa,UAAU,CAAC;YACxB,QAAQ;QACV,SAAU;YACR,aAAa;QACf;IACF;IAEA,MAAM,QAAQ,OAAO,OAAe;QAClC,IAAI;YACF,MAAM,WAAW,MAAM,IAAA,+IAAgB,EAAC,OAAO;YAE/C,IAAI,SAAS,OAAO,IAAI,SAAS,KAAK,EAAE;gBACtC,yCAAyC;gBACzC,MAAM,eAAe,MAAM,IAAA,oJAAc,EAAC,SAAS,KAAK;gBACxD,IAAI,gBAAgB,aAAa,OAAO,EAAE;oBACxC,QAAQ,aAAa,IAAI;oBACzB,OAAO;gBACT;YACF;YAEA,OAAO;QACT,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,gBAAgB;YAC9B,OAAO;QACT;IACF;IAEA,MAAM,SAAS;QACb,IAAI;YACF,MAAM,IAAA,gJAAiB;QACzB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,iBAAiB;QACjC,SAAU;YACR,QAAQ;YACR,aAAa,UAAU,CAAC;QAC1B;IACF;IAEA,MAAM,cAAc;QAClB,IAAI;YACF,MAAM,QAAQ,aAAa,OAAO,CAAC;YACnC,IAAI,OAAO;gBACT,MAAM,WAAW,MAAM,IAAA,oJAAc,EAAC;gBACtC,IAAI,YAAY,SAAS,OAAO,EAAE;oBAChC,QAAQ,SAAS,IAAI;gBACvB;YACF;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,uBAAuB;QACvC;IACF;IAEA,MAAM,QAAyB;QAC7B;QACA,iBAAiB,CAAC,CAAC;QACnB;QACA;QACA;QACA;IACF;IAEA,qBAAO,8OAAC,YAAY,QAAQ;QAAC,OAAO;kBAAQ;;;;;;AAC9C"}}]
}